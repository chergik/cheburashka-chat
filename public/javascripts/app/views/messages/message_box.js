// Generated by CoffeeScript 1.9.0
(function() {
  'use strict';
  define(function(require) {
    var Backbone, MessageBox, chat, messageBoxTemplate;
    Backbone = require('backbone');
    messageBoxTemplate = require('templates/messages/message_box');
    chat = require('lib/chat')();
    return MessageBox = Backbone.View.extend({
      template: messageBoxTemplate,
      initialize: function() {},
      events: {
        'submit form[name=send_message]': 'sendMessage'
      },
      sendMessage: function(e) {
        e.preventDefault();
        chat.sendMessage(this.currentMessage());
        this.clearBox();
        return false;
      },
      currentMessage: function() {
        return this.msgBox.val();
      },
      clearBox: function() {
        return this.msgBox.val('');
      },
      render: function() {
        this.$el.append(this.template());
        this.msgBox = this.$el.find('input[name=message]');
        return this;
      }
    });
  });

}).call(this);
