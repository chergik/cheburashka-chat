// Generated by CoffeeScript 1.9.0
(function() {
  'use strict';
  define(function(require) {
    var AppView, Backbone, MessageBoxView, MessagesCollection, MessagesListView, UsersCollection, UsersListView, chat;
    Backbone = require('backbone');
    UsersCollection = require('collections/users');
    MessagesCollection = require('collections/messages');
    MessageBoxView = require('views/messages/message_box');
    UsersListView = require('views/users/users_list');
    MessagesListView = require('views/messages/messages_list');
    chat = require('lib/chat')();
    return AppView = Backbone.View.extend({
      el: '#app',
      initialize: function() {},
      render: function() {
        var messageBoxView, messagesListView, usersListView;
        this.username = prompt("What is your name?");
        usersListView = new UsersListView({
          collection: new UsersCollection()
        });
        this.$el.append(usersListView.render().el);
        messagesListView = new MessagesListView({
          collection: new MessagesCollection()
        });
        this.$el.append(messagesListView.render().el);
        messageBoxView = new MessageBoxView();
        this.$el.append(messageBoxView.render().el);
        chat.joinUser(this.username);
        return this;
      }
    });
  });

}).call(this);
